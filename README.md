# TradingAgent: å¤š Agent è‚¡ç¥¨å†³ç­–ç³»ç»Ÿ

TradingAgent æ˜¯ä¸€ä¸ªé¢å‘é‡åŒ–äº¤æ˜“å†³ç­–çš„å¤š Agent åä½œç³»ç»Ÿã€‚å®ƒé€šè¿‡ç ”ç©¶ã€é£æ§ä¸äº¤æ˜“ Agent çš„é“¾å¼æ¨ç†ï¼Œæ•´åˆæŠ€æœ¯é¢ã€åŸºæœ¬é¢ä¸æ–°é—»æƒ…ç»ªï¼Œç”Ÿæˆå¯æ‰§è¡Œçš„ä¹°å–å†³ç­–ä¸é£é™©æç¤ºã€‚

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
- [ç›®å½•ç»“æ„](#ç›®å½•ç»“æ„)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [è¾“å‡ºè¯´æ˜](#è¾“å‡ºè¯´æ˜)
- [æ”¯æŒçš„æ¨¡å‹](#æ”¯æŒçš„æ¨¡å‹)

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

TradingAgent é‡‡ç”¨å¤šè§’è‰²åä½œçš„å›¾å¼æ¨ç†æ¡†æ¶ï¼š

1. **ç ”ç©¶é˜¶æ®µ**ï¼šå¤šåç ”ç©¶å‘˜ï¼ˆå¤šç©ºè§†è§’ï¼‰æ£€ç´¢è¡Œæƒ…ã€æ–°é—»ã€è´¢æŠ¥ï¼Œå½¢æˆç ”ç©¶è§‚ç‚¹  
2. **åˆ†æé˜¶æ®µ**ï¼šåˆ†æå¸ˆæ±‡æ€»ä¿¡å·ï¼Œé‡åŒ–æŒ‡æ ‡å¹¶ç”Ÿæˆåˆæ­¥ç»“è®º  
3. **é£é™©æ§åˆ¶é˜¶æ®µ**ï¼šé£é™©ç»ç†å®¡è§†æ³¢åŠ¨ã€ä»“ä½ä¸æ­¢ç›ˆæ­¢æŸå»ºè®®  
4. **äº¤æ˜“å†³ç­–é˜¶æ®µ**ï¼šäº¤æ˜“å‘˜ç»™å‡ºæœ€ç»ˆä¹°/å–/è§‚æœ›åŠä¿¡å¿ƒè¯„çº§ï¼Œå¹¶ç”Ÿæˆæ‰§è¡Œè¦ç‚¹

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. å¤šæºæ•°æ®èåˆ
- æ”¯æŒè¡Œæƒ…ï¼ˆyfinance/Alpha Vantageï¼‰ã€æŠ€æœ¯æŒ‡æ ‡ã€è´¢æŠ¥ã€æ–°é—»æƒ…ç»ª
- å¯é…ç½®æ•°æ®ä¾›åº”å•†ï¼Œæ”¯æŒæœ¬åœ°ç¼“å­˜å’Œåœ¨çº¿æ‹‰å–

### 2. å¤šè§’è‰²åä½œ
- Bull/Bear ç ”ç©¶å‘˜ã€åˆ†æå¸ˆã€é£é™©ç»ç†ã€äº¤æ˜“å‘˜åˆ†å·¥åä½œ
- é€šè¿‡å›¾å¼æµç¨‹æ±‡æ€»è§‚ç‚¹ï¼Œå‡å°‘å•ä¸€è§†è§’åå·®

### 3. é£æ§å†…åµŒ
- è¯„ä¼°æ³¢åŠ¨ã€é£é™©æ•å£ä¸ä»“ä½å»ºè®®
- è¾“å‡ºæ­¢ç›ˆæ­¢æŸåŒºé—´ä¸æ‰§è¡Œæ³¨æ„äº‹é¡¹

### 4. é…ç½®åŒ–ä¸å¯æ‰©å±•
- LLMã€æ•°æ®æºã€ç¼“å­˜ç›®å½•ã€è®¨è®ºè½®æ¬¡å‡å¯é…ç½®
- ç®€å•æ›¿æ¢ Vendor æˆ–æ¨¡å‹å³å¯é€‚é…ä¸åŒç¯å¢ƒ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒ Agent ç»„ä»¶

| Agent | åŠŸèƒ½ | ä½ç½® |
|-------|------|------|
| **BullResearcher / BearResearcher** | å¤šç©ºè§†è§’ç ”ç©¶ | `tradingagents/agents/researchers/` |
| **Analyst** | æ±‡æ€»æŒ‡æ ‡ä¸ç ”ç©¶ç»“è®º | `tradingagents/agents/analysts/` |
| **ResearchManager** | ç»„ç»‡ç ”ç©¶ã€åˆæˆå¤šè§†è§’è§‚ç‚¹ | `tradingagents/agents/managers/research_manager.py` |
| **RiskManager** | é£é™©è¯„ä¼°ä¸é£æ§å»ºè®® | `tradingagents/agents/managers/risk_manager.py` |
| **Trader** | æœ€ç»ˆäº¤æ˜“å†³ç­–ä¸æ‰§è¡Œæç¤º | `tradingagents/agents/trader/trader.py` |

### æ•°æ®ä¸å·¥å…·æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | ä½ç½® |
|------|------|------|
| **core_stock_tools / technical_indicators_tools** | è¡Œæƒ…ä¸æŒ‡æ ‡è·å– | `tradingagents/agents/utils/` |
| **fundamental_data_tools** | è´¢æŠ¥ä¸è´¢åŠ¡æŒ‡æ ‡ | `tradingagents/agents/utils/` |
| **news_data_tools** | æ–°é—»ä¸æƒ…ç»ªè·å– | `tradingagents/agents/utils/` |
| **dataflows/** | æ•°æ® Vendor ç»Ÿä¸€è·¯ç”±ï¼ˆyfinanceã€Alpha Vantageã€Googleã€OpenAIã€æœ¬åœ°ç¼“å­˜ç­‰ï¼‰ | `tradingagents/dataflows/` |
| **graph/** | å›¾å¼æµç¨‹ã€ä¿¡å·åˆæˆä¸å†³ç­–è¾“å‡º | `tradingagents/graph/` |

## ğŸ“¦ å®‰è£…ä¸é…ç½®

### ç¯å¢ƒè¦æ±‚

- Python 3.12

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### é…ç½®æ–‡ä»¶

å…³é”®é…ç½®ä½äº `tradingagents/default_config.py`ã€‚å¯é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼š

- `TRADINGAGENTS_DATA_DIR`ï¼šé»˜è®¤ä¸ºç©ºï¼Œä½¿ç”¨online data
- `TRADINGAGENTS_RESULTS_DIR`ï¼šç»“æœè¾“å‡ºç›®å½• ./results
- `OPENAI_API_KEY` / `OPENAI_BASE_URL`ï¼šå¦‚ä½¿ç”¨ OpenAI å…¼å®¹æ¥å£, åœ¨tradingagents/.envä¸­é…ç½®
- `ALPHA_VANTAGE_API_KEY`ï¼šä½¿ç”¨Alpha Vantageè·å–çº¿ä¸Šæ•°æ®ã€‚å¯ä»¥åœ¨https://www.alphavantage.co/support/#api-key è·å–apiï¼Œå¹¶åŒæ ·æ”¾åˆ°tradingagents/.envä¸­

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è¿è¡Œç¤ºä¾‹

```bash
python main.py  # ä½¿ç”¨é»˜è®¤é…ç½®ä¸ç¤ºä¾‹æ—¥æœŸ/æ ‡çš„
```

æˆ–ç›´æ¥åœ¨ä»£ç ä¸­ï¼š

```python
from tradingagents.graph.trading_graph import TradingAgentsGraph
from tradingagents.default_config import DEFAULT_CONFIG

ta = TradingAgentsGraph(debug=True, config=DEFAULT_CONFIG.copy())
_, decision = ta.propagate("NVDA", "2024-05-10")
print(decision)
```

### è‡ªå®šä¹‰é…ç½®

```python
from tradingagents.graph.trading_graph import TradingAgentsGraph
from tradingagents.default_config import DEFAULT_CONFIG

config = DEFAULT_CONFIG.copy()
config["deep_think_llm"] = "gpt-4o-mini"
config["quick_think_llm"] = "gpt-4o-mini"
config["data_vendors"] = {
    "core_stock_apis": "yfinance",
    "technical_indicators": "yfinance",
    "fundamental_data": "alpha_vantage",
    "news_data": "google",  # openai / alpha_vantage / google / local
}

ta = TradingAgentsGraph(debug=False, config=config)
_, decision = ta.propagate("AAPL", "2024-05-10")
print(decision)
```

## ğŸ”„ å·¥ä½œæµç¨‹

```
Ticker + Date
    â†“
æ•°æ®è·å– (è¡Œæƒ…/æŒ‡æ ‡/è´¢æŠ¥/æ–°é—»)
    â†“
Bull/Bear ç ”ç©¶å‘˜å½¢æˆå¤šç©ºè§‚ç‚¹
    â†“
åˆ†æå¸ˆæ±‡æ€»ä¿¡å·ä¸é‡åŒ–æŒ‡æ ‡
    â†“
é£é™©ç»ç†è¯„ä¼°é£é™©æ•å£ä¸æ‰§è¡ŒåŒºé—´
    â†“
äº¤æ˜“å‘˜è¾“å‡ºæœ€ç»ˆä¹°/å–/è§‚æœ›å†³ç­– + ä¿¡å¿ƒåº¦
```

## ğŸ“ ç›®å½•ç»“æ„

```
TradingAgent/
â”œâ”€â”€ main.py                  # å…¥å£è„šæœ¬
â”œâ”€â”€ run.sh                   # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ eval_results/            # æ ·ä¾‹è¿è¡Œæ—¥å¿—
â””â”€â”€ tradingagents/
    â”œâ”€â”€ default_config.py    # é»˜è®¤é…ç½®
    â”œâ”€â”€ .env                 # æ”¾ç½®ç¯å¢ƒå˜é‡ï¼šOPENAI_API_KEYï¼ŒOPENAI_BASE_URLï¼ŒALPHA_VANTAGE_API_KEY
    â”œâ”€â”€ agents/              # å„ç±» Agent
    â”‚   â”œâ”€â”€ researchers/     # Bull/Bear ç ”ç©¶å‘˜
    â”‚   â”œâ”€â”€ analysts/        # åˆ†æå¸ˆ
    â”‚   â”œâ”€â”€ managers/        # ç ”ç©¶/é£é™©ç»ç†
    â”‚   â”œâ”€â”€ trader/          # äº¤æ˜“å‘˜
    â”‚   â””â”€â”€ utils/           # æ•°æ®ä¸æŒ‡æ ‡å·¥å…·
    â”œâ”€â”€ dataflows/           # æ•°æ® Vendor ç»Ÿä¸€è·¯ç”±ä¸ç¼“å­˜
    â”œâ”€â”€ graph/               # å†³ç­–å›¾ä¸ä¿¡å·å¤„ç†
    â””â”€â”€ README.md            # ä»£ç å±‚ä½¿ç”¨ç¤ºä¾‹
```

## âš™ï¸ é…ç½®è¯´æ˜

### å…³é”®é…ç½®å­—æ®µï¼ˆèŠ‚é€‰ï¼Œè¯¦è§ `default_config.py`ï¼‰

| é…ç½®é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `deep_think_llm` | æ·±åº¦æ¨ç†æ¨¡å‹ | `o4-mini` |
| `quick_think_llm` | å¿«é€Ÿæ¨ç†æ¨¡å‹ | `gpt-4o-mini` |
| `max_debate_rounds` | ç ”ç©¶è®¨è®ºè½®æ•° | `1` |
| `max_risk_discuss_rounds` | é£æ§è®¨è®ºè½®æ•° | `1` |
| `data_vendors.core_stock_apis` | è¡Œæƒ…æ•°æ®æº | `yfinance` / `alpha_vantage` / `local` |
| `data_vendors.news_data` | æ–°é—»æ•°æ®æº | `alpha_vantage` / `openai` / `google` / `local` |
| `data_cache_dir` | æ•°æ®ç¼“å­˜ç›®å½• | `tradingagents/dataflows/data_cache` |

## ğŸ“Š è¾“å‡ºè¯´æ˜

- ç»ˆç«¯è¾“å‡ºï¼šæœ€ç»ˆå†³ç­–ï¼ˆä¹°/å–/è§‚æœ›ï¼‰ä¸ä¿¡å¿ƒåº¦
- æ—¥å¿—ï¼šåœ¨ `eval_results/` ä¸‹ä¿å­˜å®Œæ•´çŠ¶æ€ä¸æ—¥å¿—ï¼ˆç¤ºä¾‹è§ `eval_results/NVDA/TradingAgentsStrategy_logs/`ï¼‰
- å¯åœ¨ `debug=True` æ—¶æŸ¥çœ‹å®Œæ•´æ¶ˆæ¯é“¾è·¯ä¸èŠ‚ç‚¹è¾“å‡º

## ğŸ¤– æ”¯æŒçš„æ¨¡å‹

- OpenAI å…¼å®¹æ¨¡å‹ï¼ˆç¤ºä¾‹ï¼š`gpt-4o-mini`ã€`o4-mini`ï¼‰
- å¯é€šè¿‡ `backend_url` æ¥å…¥å…¼å®¹ç«¯ç‚¹